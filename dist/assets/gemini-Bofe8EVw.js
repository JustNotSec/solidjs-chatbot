import{a as r,u as E,c as u,i as h,t as w,b as I}from"./index-Cnwp8JLc.js";import{C as T,a as B,M as S}from"./main.layout-CMKfazet.js";import{C as L,E as i,A as N,a as M}from"./api.service-B7ws5-2n.js";var O=w('<div class="w-[85%] h-full px-4 xl:px-4 2xl:px-5 xl:py-2 overflow-clip"><div class="flex flex-col gap-4"><div class="card shadow-2xl"><div class=card-body>');function b(){const[l,d]=r(""),[t,a]=r([]),[o,c]=r(!1),[m,p]=r(!1),[x,f]=r(!1),C=()=>{a([]),d(""),c(!1),p(!1),f(!1)},v=async()=>{if(o()||!l()||l().length<1)return;m()||p(!0);const e=l().trim();d(""),c(!0),a([...t(),{sender:i.USER,messages:e}]),await N.get({url:`?text=${e}`,name:"System",server:M.GEMINI,success:s=>{const n=s.data;n.status?a([...t(),{sender:i.BOT,messages:n.result}]):(f(!0),!e||e.length<1?a([...t(),{sender:i.BOT,messages:"Please type a message to send!"}]):a([...t(),{sender:i.BOT,messages:n.message}]))},error:()=>{f(!0),a([...t(),{sender:i.BOT,messages:"Something went wrong, please try again later"}])},finally:()=>{c(!1)}})};return E(e=>{m()&&!e.defaultPrevented&&(e.preventDefault(),setTimeout(()=>{I.fire({title:"Konfirmasi",icon:"question",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",html:`
            <div class="flex justify-center items-center gap-4 mt-4">
              <span>
                Apakah anda yakin ingin meninggalkan halaman ini?
                <br />
                Semua data yang sudah di buat akan hilang!!
              </span>
            </div>
          `}).then(s=>{s.isConfirmed&&e.retry(!0)})},100))}),u(S,{title:"GEMINI",get children(){var e=O(),s=e.firstChild,n=s.firstChild,g=n.firstChild;return h(g,u(T,{title:"GEMINI",get isLoading(){return o()},onNewChat:C}),null),h(g,u(L,{get chat(){return t()},get isLoading(){return o()}}),null),h(g,u(B,{get value(){return l()},get isLoading(){return o()},get isError(){return x()},onSend:v,onNewChat:C,onChange:y=>d(y.target.value)}),null),e}})}export{b as default};
